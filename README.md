# Веб-приложение "BUY MY ITEMS"

Автор: [Vyacheslav Menyukhov](https://github.com/platsajacki) | menyukhov@bk.ru

Спасибо за тестовое задние компнии ООО "Ришат"! Сайт достуаен по ссылке: [BUY MY ITEMS](https://bmi-rishat.ddns.net/)

## Описание
В приложении есть возможность приобрести разнобразные товары. Данные о покупках записываются в базу, после проведение или отмены платежа данные обновляются с помощью webhook.

## Endpoints
1. **items/** - главная страница, на которой сразу можно приобрести несколько товаров. На странице доступны фильтрация по валюте и применения купопа скидки к заказу.

2. **items/int:id/** - отдельная страница товара с описанием, на которой можно применить купон скиди и купить товар.

3. **purchases/** - обрабатывает все покупки.

4. **succeed-order/** - страница, открывающаяся после успешной оплаты.

5. **coupons/str:discount_id/** - проверяет актуальность скидки и возвращает данные о ней.

6. **webhook/** - обрабатывает события по заказу и акулизирует базу.

## Запуск провекта
1. Склонируйте репозиторий `buy_my_items` на свой компьютер:
    ```bash
    git clone git@github.com:platsajacki/buy_my_items.git
    ```

2. Создайте и заполните файл `.env` по образцу `.env.example`, разместите его в директории проекта.

3. Из директории проекта запустите проект с помощью Docker Compose:
    ```bash
    sudo docker compose up -d
    ```

4. В контейнере с Django проведите миграцию и скопируйте статику:
    ```bash
    sudo docker compose exec bmi python manage.py migrate
    sudo docker compose exec bmi cp -r /app/staticfiles/. /static/
    ```

5. Заполните данными сайт:
    ```bash
    sudo docker compose exec bmi python manage.py import_csv
    ```

6. Если потребуется работа в панели администратора, создайте суперпользователя:
    ```bash
    sudo docker compose exec bmi python manage.py createsuperuser
    ```

7. Теперь вы можете обращаться сервису BMI по адресу: http://127.0.0.1/

## Анализ и тестировние кода
С помощью команды `make lint` можно проанализировать проект на потенциальные ошибки, стилистические несоответствия. А команда `make test` проведет тестирование проекта. P.S. Для это потребуется установать завизимости из файла с `requirements.txt`.
